# Route the Mic source into the record-chrome-audio-sink sink
# Ensure 20-mic-split.conf defines the Mic source first

context.modules = [
  {
    name = libpipewire-module-loopback
    args = {
      node.description = "Mic to record-chrome-audio-sink"
      capture.props = {
        node.name = "capture.MicToRecordChromeSink"
        target.object = "Mic"
        audio.position = [ FL FR ]
        node.linger = true
      }
      playback.props = {
        node.name = "MicToRecordChromeSink"
        target.object = "record-chrome-audio-sink"
        audio.position = [ FL FR ]
      }
    }
  }
]
